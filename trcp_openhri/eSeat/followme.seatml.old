<?xml version="1.0" encoding="UTF-8" ?>
<seatml>
  <general name="sample">
    <adaptor name="speechin" type="rtcin" datatype="TimedString" />
    <adaptor name="speechout" type="rtcout" datatype="TimedString" />
    <adaptor name="speechoutE" type="rtcout" datatype="TimedString" />
    <adaptor name="command" type="rtcout" datatype="TimedLong" />
  </general>
  <state name="OPEN">
    <onentry>
      <message sendto="speechout">開始の状態はオープンです</message>
      <script sendto="speechout">
print "Open!!!"
      </script>
    </onentry>
    </onentry>
    <onexit>
      <message sendto="speechout">オープンから抜けます</message>
      <script sendto="speechout">
print "Exit OPEN state!!!"
      </script>
    </onexit>
    <rule>
      <key source="speechin">いれいさー へやからでて</key>
      <message sendto="speechout">部屋から出ます</message>
      <message sendto="command">2</message>
      <statetransition>IDOL</statetransition>
    </rule>

    <rule> <!-- 雑音を無視するためのルール -->
      <key>つ</key>
      <command host="NoiseDiscarding">input noise</command>
    </rule>
    <rule> <!-- 雑音を無視するためのルール -->
      <key>た</key>
      <command host="NoiseDiscarding">input noise</command>
    </rule>
  </state>
  <state name="IDOL">
    <rule> <!-- 雑音を無視するためのルール -->
      <key>つ</key>
      <command host="NoiseDiscarding">input noise</command>
    </rule>
    <rule> <!-- 雑音を無視するためのルール -->
      <key>た</key>
      <command host="NoiseDiscarding">input noise</command>
    </rule>
  </state>
</seatml>
